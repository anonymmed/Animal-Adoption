{% extends 'TemplateBundle:Layout:backpage.html.twig' %}

{% block content %}


<form>
    <input type="text" name="mot" id="mot" placeholder="chercher">
</form>
<center><h1>Liste Des Animaux</h1>
    <div class="box-body">
        <style type="text/css">
            table{border-collapse: collapse;width: 40%;font-size: 10pt;} table,th,td{border:1px solid rgb(88, 111, 45);} th{background:rgb(88, 111, 45);color: white;}
        </style>
        <table id="example2" class="table table-bordered table-hover">
            <thead>
            <th>id</th>
            <th>Nom</th>
            <th>Race</th>
            <th>Sexe</th>
            <th>Age</th>
            <th>Id Refuge</th>
            <th>Supprimer || Modifier</th>
            </thead>
            <tbody id="tbody">

            </tbody>
        </table>
        <script src="{{ asset('jquery-3.3.1.min.js') }}"></script>
        <script>
            $('#mot').keyup(function () {
                var input=$('#mot').val();
                $.ajax({
                    url:"{{ path('rechercheAjax') }}",
                    type:'Post',
                    data:{'mot':input},
                    success:function (data) {
                        //console.log(data);
                        $.each(data,function (i,e) {
                            $('#tbody').html("<table id='#tbody'><tr><td>"+e.id+"</td><td>"+e.nom+"</td><td>"+e.race+"</td><td>"+e.sexe+"</td><td>"+e.age+"</td></tr></table>");
                        })
                    }
                })

            });

        </script>
    </div>
</center>
        {% endblock %}

